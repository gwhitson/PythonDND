CREATE TABLE entities (id INTEGER PRIMARY KEY ASC, name TEXT, role TEXT, hp INTEGER, ac INTEGER, move_spd INTEGER not null, grid_x INTEGER not null, grid_y INTEGER not null, pix_x INTEGER not null, pix_y INTEGER not null, sprite TEXT) STRICT;
CREATE TABLE actions (id INTEGER PRIMARY KEY ASC, name TEXT, damage TEXT, range INTEGER, action_tags TEXT, poss_player INTEGER, FOREIGN KEY (poss_player) REFERENCES 'entities'(id)) STRICT;
/*CREATE TABLE OLDgame (player_id INTEGER, grid_x INTEGER, grid_y INTEGER, initiative INTEGER, targetted INTEGER, current_atk INTEGER, FOREIGN KEY (player_id) REFERENCES entities(id), FOREIGN KEY (current_atk) REFERENCES actions(id));*/
CREATE TABLE game (initiative TEXT, last_ent INTEGER, curr_ent INTEGER, next_ent INTEGER, curr_action INTEGER, mode TEXT not null, targetted TEXT, map_size TEXT not null, flags TEXT, FOREIGN KEY (last_ent) REFERENCES entities(id), FOREIGN KEY (curr_ent) REFERENCES entities(id), FOREIGN KEY (next_ent) REFERENCES entities(id), FOREIGN KEY (curr_action) REFERENCES actions(id)) STRICT;
PRAGMA foreign_keys=on;
/*#INSERT INTO game ([map_size],[mode]) values ('20,40', 'noncombat');*/
